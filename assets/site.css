/* =========================
   Solvere Lab — Phase 1 UI
   Analüütiline / metoodiline / rahulik
   ========================= */

/* ---- tokens ---- */
:root{
  --bg:#fafbfc;
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --line:#e5e7eb;

  --shadow: 0 1px 2px rgba(0,0,0,.05);

  /* indikaatorid (ainult seal) */
  --ok:#16a34a;
  --mid:#d97706;
  --bad:#dc2626;

  --radius:16px;
  --radius-sm:12px;
  --wrap: 980px;
  --gap: 18px;

  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* ---- base ---- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font);
  color:var(--text);
  background:var(--bg);
  line-height:1.55;
}

a{color:inherit}
.wrap{
  max-width:var(--wrap);
  margin:0 auto;
  padding: 0 18px;
}

.small{font-size:13px}
.muted{color:var(--muted)}
.lead{color:var(--muted); font-size:16px; max-width: 74ch}

/* ---- topbar ---- */
.topbar{
  position:sticky; top:0;
  background: rgba(250,251,252,.88);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
  z-index:10;
}
.topbar__inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 0;
  gap: 14px;
}
.brand__name{
  font-weight:650;
  letter-spacing:.2px;
}

.langswitch{
  display:flex;
  gap:10px;
  align-items:center;
}
.langswitch__link{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  height:34px;
  padding:0 10px;
  border:1px solid var(--line);
  border-radius: 999px;
  text-decoration:none;
  color:var(--muted);
  background:var(--card);
}
.langswitch__link.is-active{
  color:var(--text);
  border-color:#cbd5e1;
}

/* ---- hero ---- */
.hero{
  padding: 28px 0 8px;
}
.hero h1{
  margin: 0 0 10px;
  font-size: clamp(22px, 3vw, 34px);
  letter-spacing:-.2px;
}
.actions{
  display:flex;
  gap: 10px;
  margin: 14px 0 8px;
  flex-wrap:wrap;
}
.meta{
  margin-top: 10px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.meta__item{
  color:var(--muted);
  font-size:13px;
}

/* ---- notice ---- */
.notice{
  margin-top: 14px;
  padding: 12px 14px;
  border:1px solid var(--line);
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  color: var(--muted);
  font-size: 13px;
}
.notice--subtle{
  background: transparent;
  box-shadow:none;
}

/* ---- buttons ---- */
.btn{
  appearance:none;
  border:1px solid #cbd5e1;
  background: var(--text);
  color:#fff;
  border-radius: 999px;
  height: 40px;
  padding: 0 14px;
  font-weight: 600;
  letter-spacing:.1px;
  cursor:pointer;
}
.btn:hover{filter:brightness(.98)}
.btn:active{transform: translateY(1px)}
.btn:disabled{
  opacity:.55;
  cursor:not-allowed;
  transform:none;
}
.btn--ghost{
  background: var(--card);
  color: var(--text);
  border-color: var(--line);
}

/* ---- progress ---- */
.progress{
  margin: 18px 0;
}
.progress__row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 12px 14px;
  border:1px solid var(--line);
  border-radius: var(--radius);
  background: var(--card);
  box-shadow: var(--shadow);
}
.progress__label{
  font-weight:600;
  color: var(--muted);
  font-size: 13px;
}
.progress__bar{
  flex:1;
  height: 10px;
  border-radius: 999px;
  background: #f1f5f9;
  overflow:hidden;
  border: 1px solid #eef2f7;
}
.progress__fill{
  height:100%;
  width:0%;
  background: #94a3b8;
}

/* ---- steps ---- */
.steps{padding-bottom: 22px}
.step{
  border:1px solid var(--line);
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin: 12px 0;
  overflow:hidden;
}
.step.is-locked{
  opacity:.65;
}
.step__head{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 12px;
  padding: 14px 14px;
  background: transparent;
  border:0;
  cursor:pointer;
  text-align:left;
}
.step__title{
  font-weight:650;
}
.step__meta{
  display:flex;
  align-items:center;
  gap:10px;
}

/* info button (tohib olla span role=button või button eraldi, aga mitte nested button) */
.info{
  display:inline-flex;
  width:28px;
  height:28px;
  align-items:center;
  justify-content:center;
  border-radius:999px;
  border:1px solid var(--line);
  color: var(--muted);
  background: #fff;
  cursor:pointer;
  font-weight:700;
  line-height:1;
}
.info:focus{outline:2px solid rgba(148,163,184,.7); outline-offset:2px}

.step__body{
  display:none;
  padding: 0 14px 14px;
}
.step__intro{
  margin: 4px 0 12px;
  color: var(--muted);
  font-size: 14px;
}
.info__panel{
  margin: 10px 0 12px;
  padding: 10px 12px;
  border: 1px solid var(--line);
  border-radius: var(--radius-sm);
  background: #fcfcfd;
  color: var(--muted);
  font-size: 13px;
}

/* choices */
.choices{
  border:0;
  padding:0;
  margin:0;
  display:grid;
  gap: 10px;
}
.choices label{
  display:flex;
  align-items:flex-start;
  gap: 10px;
  padding: 10px 12px;
  border:1px solid var(--line);
  border-radius: var(--radius-sm);
  background: #fff;
  cursor:pointer;
}
.choices input[type="radio"]{
  margin-top: 3px;
}

/* step nav */
.step__nav{
  display:flex;
  justify-content:space-between;
  gap: 10px;
  margin-top: 14px;
}

/* ---- results ---- */
.results{
  margin: 18px 0 36px;
}
.card{
  border:1px solid var(--line);
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 14px;
  margin: 12px 0;
}
.card--main{padding: 16px}
.card__title{
  font-weight:650;
  margin-bottom: 10px;
}

/* status */
.status{
  display:flex;
  align-items:center;
  gap: 10px;
  margin: 6px 0 8px;
}
.status__dot{
  width:12px; height:12px;
  border-radius:999px;
  background: #94a3b8;
  border: 1px solid rgba(0,0,0,.06);
}
.status__dot[data-level="ok"]{background: var(--ok)}
.status__dot[data-level="mid"]{background: var(--mid)}
.status__dot[data-level="bad"]{background: var(--bad)}
.status__text{font-weight:650}

/* grid of components */
.grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px;
}
@media (max-width: 720px){
  .grid{grid-template-columns: 1fr}
}

/* component card */
.kcard{
  border:1px solid var(--line);
  border-radius: var(--radius);
  background: #fff;
  padding: 12px;
  box-shadow: var(--shadow);
}
.kcard__top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.kcard__name{font-weight:650}
.kcard__mark{display:flex;align-items:center;gap:8px}
.kdot{
  width:10px;height:10px;border-radius:999px;
  background:#94a3b8;
}
.kdot.ok{background: var(--ok)}
.kdot.mid{background: var(--mid)}
.kdot.bad{background: var(--bad)}
.kcard__desc{margin-top: 8px; color: var(--muted); font-size: 13px}

/* lists */
.list{margin:0; padding-left: 18px}
.list li{margin: 6px 0}

/* ---- II phase: action plan collapsible ---- */
.checklist{list-style:none; padding-left:0; margin:0}
.checklist .plansec{
  display:block;
  padding:12px 12px;
  border:1px solid var(--line);
  border-radius: var(--radius);
  background:#fff;
  margin:10px 0;
  box-shadow: var(--shadow);
}
.plansec__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  cursor:pointer;
  user-select:none;
}
.plansec__title{font-weight:650; margin:0}
.plansec__chev{
  font-size: 14px;
  color: var(--muted);
  line-height:1;
  transition: transform .12s ease;
}
.plansec__items{margin:10px 0 0; padding-left:18px; list-style:disc}
.plansec__items li{margin: 6px 0}
.plansec__items a{color:inherit; text-decoration:underline}

.plansec[aria-expanded="false"] .plansec__items{display:none}
.plansec[aria-expanded="true"] .plansec__items{display:block}
.plansec[aria-expanded="true"] .plansec__chev{transform: rotate(180deg)}

/* ---- footer ---- */
.footerline{
  color: var(--muted);
  font-size: 13px;
  margin: 14px 0;
  padding-top: 10px;
  border-top: 1px solid var(--line);
}
.footer{
  padding: 22px 0 30px;
  color: var(--muted);
}

:root{
  --bg:#0f1115;
  --card:#151922;
  --card-soft:#1b2230;

  --text:#e5e7eb;
  --muted:#9ca3af;
  --line:#262b36;

  --shadow: 0 1px 2px rgba(0,0,0,.4);

  --ok:#22c55e;
  --mid:#f59e0b;
  --bad:#ef4444;

  --radius:16px;
  --radius-sm:12px;
}

body{
  background: var(--bg);
  color: var(--text);
}

.topbar{
  background: rgba(15,17,21,.85);
  backdrop-filter: blur(12px);
  border-bottom:1px solid var(--line);
}

.card,
.step,
.progress__row,
.notice{
  background: var(--card);
  border:1px solid var(--line);
  box-shadow: var(--shadow);
}

.hero h1{
  color: var(--text);
}
.lead{
  color: var(--muted);
}

.btn{
  background: var(--text);
  color: #0f1115;
  border:1px solid #2d3340;
}
.btn--ghost{
  background: transparent;
  color: var(--text);
  border:1px solid var(--line);
}
.btn:hover{
  filter: brightness(1.05);
}

.choices label{
  background: var(--card-soft);
  border:1px solid var(--line);
}
.choices label:hover{
  border-color:#3b4253;
}

.info__panel{
  background: var(--card-soft);
  border:1px solid var(--line);
}

.progress__bar{
  background:#1f2530;
  border:1px solid #222733;
}
.progress__fill{
  background:#3b4253;
}

.status{
  padding:12px 14px;
  border-radius: var(--radius);
  border:1px solid var(--line);
  background: var(--card-soft);
}

.status[data-level="ok"]{
  border-color: rgba(34,197,94,.35);
  background: rgba(34,197,94,.06);
}

.status[data-level="mid"]{
  border-color: rgba(245,158,11,.35);
  background: rgba(245,158,11,.06);
}

.status[data-level="bad"]{
  border-color: rgba(239,68,68,.35);
  background: rgba(239,68,68,.06);
}

.kcard{
  background: var(--card-soft);
  border:1px solid var(--line);
}

.plansec{
  background: var(--card-soft);
  border:1px solid var(--line);
}
.plansec__items{
  color: var(--muted);
}
.plansec__items a{
  color: var(--text);
}

/* =========================
   Steps as Timeline (1–6)
   ========================= */

/* kogu sammu kaart muutub "timeline itemiks" */
.steps{
  position: relative;
}

/* jäta vasakule ruumi numbrile + joonele */
.step{
  position: relative;
  padding-left: 54px; /* timeline rail */
}

/* numbriring */
.step::before{
  content: attr(data-step);
  position: absolute;
  left: 18px;
  top: 14px;

  width: 28px;
  height: 28px;
  border-radius: 999px;

  display: grid;
  place-items: center;

  font-weight: 700;
  font-size: 13px;

  background: #0f1115;            /* tumeda teema taust */
  border: 1px solid var(--line);
  color: var(--muted);
}

/* vertikaalne joon sammude vahel */
.step::after{
  content: "";
  position: absolute;
  left: 32px;                      /* ringi keskjoon */
  top: 46px;                       /* ringist allapoole */
  bottom: -12px;                   /* ulatub järgmise sammuni */
  width: 1px;
  background: var(--line);
}

/* viimane samm: ära joonista joont edasi */
.step:last-child::after{
  display: none;
}

/* step__head/body padding reset (kuna stepil on nüüd padding-left) */
.step__head{
  padding-left: 0;
}
.step__body{
  padding-left: 0;
}

/* locked: natuke "kaugem" */
.step.is-locked::before{
  opacity: .55;
}

/* avatud samm: rõhutus (prestiižne, mitte karjuv) */
.step.is-open{
  border-color: #3b4253;
}
.step.is-open::before{
  color: var(--text);
  border-color: #3b4253;
}

/* kui samm on täidetud, võime numbriringi teha neutraalselt "kindlamaks"
   (valikuline – töötab, kui lisame JS-is is-done klassi; allpool panen patchi) */
.step.is-done::before{
  color: var(--text);
  border-color: #2d3340;
}

/* aktiivne samm + üldtoon: head hover */
.step__head:hover{
  background: rgba(255,255,255,.02);
}

/* =========================
   FIX: Action plan dark
   ========================= */

/* kogu checklist konteiner */
.checklist{
  list-style:none;
  padding:0;
  margin:0;
}

/* iga sektsioon */
.plansec{
  background: var(--card);          /* mitte #fff */
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  margin:12px 0;
  padding:14px;
}

/* sektsiooni päis */
.plansec__head{
  background: transparent;
}

/* sektsiooni avatud osa */
.plansec__items{
  margin-top:12px;
  padding-left:18px;
  color: var(--muted);
}

/* eemaldame kõik võimalikud valged taustad list itemitel */
.plansec__items li{
  background: transparent;
}

/* link tööplaanis */
.plansec__items a{
  color: var(--text);
  text-decoration: underline;
}

/* collapsible suletud */
.plansec[aria-expanded="false"] .plansec__items{
  display:none;
}

/* collapsible avatud */
.plansec[aria-expanded="true"] .plansec__items{
  display:block;
}

/* noole pööramine */
.plansec__chev{
  color: var(--muted);
  transition: transform .15s ease;
}
.plansec[aria-expanded="true"] .plansec__chev{
  transform: rotate(180deg);
}

.plansec{
  background: var(--card-soft);
}

/* =========================
   Accent rail (audit feel)
   ========================= */

/* üldine "rail" utiliit kaardile */
.card{
  position: relative;
}

/* peen vasak riba kaardile */
.card::before{
  content:"";
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  width:4px;
  border-radius: var(--radius) 0 0 var(--radius);
  background: transparent; /* default */
}

/* ÜLDHINNANGU KAART – värviline riba (seotud overall tasemega)
   eeldab, et lisame kaardile data-level atribuudi JS-ist (allpool) */
.card--main[data-level="ok"]::before{ background: rgba(34,197,94,.85); }
.card--main[data-level="mid"]::before{ background: rgba(245,158,11,.85); }
.card--main[data-level="bad"]::before{ background: rgba(239,68,68,.85); }

/* kui data-level puudub */
.card--main::before{ background: rgba(148,163,184,.22); }

/* II faasi kaardid – neutraalne grafiit riba */
#reasonsCard::before,
#conditionsCard::before,
#actionCard::before{
  background: rgba(148,163,184,.18);
}

/* (valikuline) rõhuta "tingimused" ja "põhjendused" veidi, et need tunduks raportiosana */
#reasonsCard,
#conditionsCard,
#actionCard{
  background: var(--card-soft);
}

/* väike sisemine padding-kompensatsioon, et riba ei "sööks" teksti */
.card{
  padding-left: 16px;
}

/* ======================================
   HARD OVERRIDE – Action plan dark fix
   ====================================== */

/* kogu tööplaani konteiner */
#actionCard{
  background: var(--card);
}

/* iga sektsioon */
.plansec{
  background: var(--card) !important;
  border: 1px solid var(--line) !important;
  box-shadow: var(--shadow);
  color: var(--text);
}

/* avatud sisu */
.plansec__items{
  background: transparent !important;
  color: var(--muted);
}

/* üksik list item */
.plansec__items li{
  background: transparent !important;
}

/* eemaldame võimaliku globaalreegli mõju */
.checklist li{
  background: transparent !important;
}

/* kui sul on kuskil .card { background:#fff } */
.card{
  background: var(--card);
}
